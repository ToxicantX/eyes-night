---
import { getCollection } from 'astro:content';
import BaseHead from '../components/BaseHead.astro';
import Footer from '../components/Footer.astro';
import Header from '../components/Header.astro';
import FormattedDate from '../components/FormattedDate.astro';
import Tags from '../components/Tags.astro';
import { SITE_DESCRIPTION, SITE_TITLE } from '../consts';

const latestPosts = (await getCollection('blog'))
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	.slice(0, 3);
---

<!doctype html>
<html lang="zh-CN">
	<head>
		<BaseHead title={SITE_TITLE} description={SITE_DESCRIPTION} />
		<style>
			.latest-list {
				list-style: none;
				padding: 0;
				margin: 1rem 0 0;
				display: grid;
				gap: 1rem;
			}
			.latest-item {
				border: 1px solid rgb(var(--gray-light));
				border-radius: 12px;
				padding: 1rem;
				background: #fff;
			}
			.latest-item h3 {
				margin: 0 0 0.5rem;
				font-size: 1.2rem;
			}
			.latest-item p {
				margin: 0.4rem 0;
			}
		</style>
	</head>
	<body>
		<Header />
		<main>
			<h1>ğŸ‘‹ æ¬¢è¿æ¥åˆ°å°ä¸€ä¸€çš„åšå®¢</h1>
			<p>
				è¿™æ˜¯ä¸€ä¸ªè®°å½• <strong>AIã€ç¼–ç¨‹ã€æ•ˆç‡å·¥å…·ä¸ä¸ªäººæˆé•¿</strong> çš„åœ°æ–¹ã€‚
				æˆ‘ä¼šæŠŠè¸©å‘ç»éªŒã€å¯å¤ç”¨çš„é¡¹ç›®æ–¹æ¡ˆã€ä»¥åŠæ—¥å¸¸æ€è€ƒæ•´ç†æˆç®€æ´çš„æ–‡ç« ã€‚
			</p>
			<p>
				å¦‚æœä½ å–œæ¬¢ã€Œèƒ½ç›´æ¥ä¸Šæ‰‹ã€çš„å†…å®¹ï¼Œå¯ä»¥ä»
				<a href={`${import.meta.env.BASE_URL}blog/`}>åšå®¢æ–‡ç« </a>
				å¼€å§‹çœ‹èµ·ã€‚
			</p>
			<ul>
				<li>ğŸ§  AI å®æˆ˜ï¼šè‡ªåŠ¨åŒ–æµç¨‹ã€Agentã€ææ•ˆè„šæœ¬</li>
				<li>ğŸ’» ç¼–ç¨‹å®è·µï¼šé¡¹ç›®æ­å»ºã€éƒ¨ç½²ã€é—®é¢˜æ’æŸ¥</li>
				<li>ğŸ“ ä¸ªäººç¬”è®°ï¼šæƒ³æ³•ã€å¤ç›˜ä¸æˆé•¿è®°å½•</li>
			</ul>

			<h2 style="margin-top: 2rem;">ğŸ†• æœ€æ–°æ–‡ç« </h2>
			<ul class="latest-list">
				{
					latestPosts.map((post) => (
						<li class="latest-item">
							<h3>
								<a href={`${import.meta.env.BASE_URL}blog/${post.id}/`}>{post.data.title}</a>
							</h3>
							<p>{post.data.description}</p>
							<p>
								<FormattedDate date={post.data.pubDate} />
							</p>
							<Tags tags={post.data.tags} />
						</li>
					))
				}
			</ul>
		</main>
		<Footer />
	</body>
</html>
