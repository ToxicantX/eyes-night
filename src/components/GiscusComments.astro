---
const GISCUS_REPO = 'ToxicantX/eyes-night';
const GISCUS_REPO_ID = 'R_kgDORRNy9A';
const GISCUS_CATEGORY = 'Ideas';
const GISCUS_CATEGORY_ID = 'DIC_kwDORRNy9M4C2hyC';
const isConfigured = Boolean(GISCUS_REPO_ID && GISCUS_CATEGORY_ID);
---

<section class="comments">
	<h3>评论区</h3>
	{
		isConfigured ? (
			<script
				src="https://giscus.app/client.js"
				data-repo={GISCUS_REPO}
				data-repo-id={GISCUS_REPO_ID}
				data-category={GISCUS_CATEGORY}
				data-category-id={GISCUS_CATEGORY_ID}
				data-mapping="pathname"
				data-strict="0"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="zh-CN"
				crossorigin="anonymous"
				async
			></script>
		) : (
			<p>
				评论系统已预留。请前往 giscus.app 生成 <code>repoId</code> 与 <code>categoryId</code> 后，
				填写到 <code>src/components/GiscusComments.astro</code> 即可启用。
			</p>
		)
	}
</section>

<style>
	.comments {
		margin-top: 2rem;
		padding-top: 1rem;
		border-top: 1px solid rgb(var(--gray-light));
	}
	.comments h3 {
		font-size: 1.2rem;
		margin-bottom: 0.8rem;
	}
</style>
